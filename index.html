<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–°–∫–ª–∞–¥–∏ —Å–ª–æ–≤–æ ‚Äî –ú–æ–≤–æ–∑–Ω–∞–π–∫–æ</title>
<style>
  :root {
    font-family: "Comic Sans MS", "Segoe UI", system-ui, sans-serif;
    --accent: #ff7b00;
    --bg: #fffaf3;
  }
  body {
    margin: 0;
    padding: 24px;
    background: var(--bg);
    color: #222;
  }
  .wrap { max-width: 760px; margin: 0 auto; }
  header { text-align: center; margin-bottom: 20px; }
  h1 { font-size: 26px; color: #ff7b00; margin-bottom: 8px; }
  p.lead { font-size: 16px; color: #555; margin-top: 0; }
  .card {
    background: white;
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 16px;
  }
  #target {
    min-height: 70px;
    border: 3px dashed #ffd29b;
    border-radius: 12px;
    padding: 10px;
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
    background: #fff7ed;
  }
  .letter {
    user-select: none;
    padding: 14px 18px;
    border-radius: 10px;
    background: #fff2d9;
    border: 2px solid #ffb23c;
    cursor: grab;
    font-size: 26px;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    color: #333;
  }
  .controls {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 12px;
    justify-content: center;
  }
  button {
    background: var(--accent);
    color: white;
    border: none;
    padding: 12px 16px;
    border-radius: 10px;
    font-weight: bold;
    font-size: 16px;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover { background: #ff9c3d; }
  button.ghost {
    background: transparent;
    color: var(--accent);
    border: 2px solid #ffb868;
  }
  .status {
    margin-top: 16px;
    font-weight: bold;
    text-align: center;
    font-size: 18px;
  }
  .success { color: #2b9d36; }
  .fail { color: #e03c28; }
  .hint { color: #0066cc; }
  .letters-row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 14px;
  }
  .setup { text-align: center; margin-bottom: 20px; }
  input[type=number] {
    width: 80px;
    padding: 8px;
    border-radius: 8px;
    border: 2px solid #ffd29b;
    text-align: center;
    font-size: 16px;
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>–°–∫–ª–∞–¥–∏ —Å–ª–æ–≤–æ</h1>
    <p class="lead">–ü–µ—Ä–µ—Ç—è–≥–Ω–∏ –∞–±–æ –Ω–∞—Ç–∏—Å–Ω–∏ –ª—ñ—Ç–µ—Ä–∏, —â–æ–± —Å–∫–ª–∞—Å—Ç–∏ —Å–ª–æ–≤–æ. üéØ</p>
  </header>

  <div class="setup">
    <label for="wordCount">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ª—ñ–≤ (1‚Äì10): </label>
    <input type="number" id="wordCount" min="1" max="10" value="5">
    <button id="startBtn">‚ñ∂Ô∏è –ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
  </div>

  <section id="game" class="card" style="display:none;">
    <div id="target"></div>

    <div class="controls">
      <button id="shuffleBtn">üîÄ –ü–µ—Ä–µ–º—ñ—à–∞—Ç–∏</button>
      <button id="hintBtn" class="ghost">üí° –ü—ñ–¥–∫–∞–∑–∫–∞</button>
      <button id="checkBtn">‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
      <button id="resetBtn" class="ghost">üîÅ –ù–æ–≤–µ —Å–ª–æ–≤–æ</button>
    </div>

    <div id="letters" class="letters-row"></div>
    <div id="status" class="status"></div>
  </section>
</div>

<script>
// ======= –°–õ–û–í–ê =======
const WORDS = [
"–ª–∏—Å–∏—á–∫–∞","–æ—Å—ñ–Ω—å","–º–æ–≤–∞","–¥—Ä—É–≥","–∫–Ω–∏–≥–∞","–¥–µ—Ä–µ–≤–æ","—É—Å–º—ñ—à–∫–∞","—à–∫–æ–ª–∞","—Å–æ–Ω—Ü–µ","–º–∞–º–∞","—Ç–∞—Ç–æ","–º—ñ—Å—Ç–æ","—Ä—ñ—á–∫–∞","—Ö–º–∞—Ä–∞","–¥—ñ–º","—è–±–ª—É–∫–æ","—Å–∞–¥","–¥–∏—Ç–∏–Ω–∞","—Ä—É–∫–∞","–æ–∫–æ",
"–≤—ñ–∫–Ω–æ","–ª—ñ—Å","–≥–æ—Ä–∞","–ø—Ç–∞—à–∫–∞","–∫–æ—Ç","—Å–æ–±–∞–∫–∞","—Ä–∞–¥—ñ—Å—Ç—å","–≥—Ä–∞","–ª–∏—Å—Ç","–∫–≤—ñ—Ç–∫–∞","–º—ñ—Å—è—Ü—å","–≤–µ—Å–Ω–∞","–ª—ñ—Ç–æ","–∑–∏–º–∞","–æ—Å—ñ–Ω—å","–≤—ñ—Ç–µ—Ä","—Ç—Ä–∞–≤–∞","–º–µ—Ç–µ–ª–∏–∫","–º–æ–ª–æ–∫–æ","–≤–æ–¥–∞",
"—Ö–ª—ñ–±","–º—ñ—à–æ–∫","—Ü—É–∫–æ—Ä","—á–∞–π","–æ–ª—ñ–≤–µ—Ü—å","—Ä—É—á–∫–∞","–∑–æ—à–∏—Ç","–ø–æ—Ä—Ç—Ñ–µ–ª—å","–¥–∑–≤—ñ–Ω–æ–∫","—É—Ä–æ–∫","–¥–æ—â","–≤–µ—Å–µ–ª–∫–∞","–∑–æ—Ä—è","–Ω—ñ—á","–¥–µ–Ω—å","—Ä–∞–Ω–æ–∫","–≤–µ—á—ñ—Ä","—Å–≤—ñ—Ç–ª–æ","–¥–æ—Ä–æ–≥–∞",
"–∫–∞–º—ñ–Ω—å","–ø—ñ—Å–æ–∫","—Ä–∏–±–∞","–º–æ—Ä–µ","–∫–æ—Ä–∞–±–µ–ª—å","–∑—ñ—Ä–∫–∞","—è–±–ª—É–Ω—è","–≤–∏—à–Ω—è","–≥—Ä—É—à–∞","–±—É–¥–∏–Ω–æ–∫","–≤–æ–≤–∫","–≤–µ–¥–º—ñ–¥—å","—Ç–∏–≥—Ä","—Å–ª–æ–Ω","–∂–∏—Ä–∞—Ñ","—ó–∂–∞—á–æ–∫","–±—ñ–ª–∫–∞",
"–ø–µ–Ω—å–æ–∫","—Ç—Ä–∞–∫—Ç–æ—Ä","–º–∞—à–∏–Ω–∞","–ª—ñ—Ç–∞–∫","—á–æ–≤–µ–Ω","–ø–∞—Ä–æ–≤–æ–∑","–∑–∞–º–æ–∫","–∫–ª—é—á","–¥–∑–µ—Ä–∫–∞–ª–æ","—Å–≤—è—Ç–æ","–ø–æ–¥–∞—Ä—É–Ω–æ–∫","—á–∞—à–∫–∞","—Ç–∞—Ä—ñ–ª–∫–∞","–ª–æ–∂–∫–∞","—Å—Ç—ñ–ª–µ—Ü—å","—Å—Ç—ñ–ª","–∫—ñ–º–Ω–∞—Ç–∞","–ø–æ–¥—É—à–∫–∞","–∫–æ–≤–¥—Ä–∞","—ñ–≥—Ä–∞—à–∫–∞","–ª—è–ª—å–∫–∞"
];

// =====================
let wordsQueue = [];
let currentWord = "";
let totalWords = 0;
let guessedCount = 0;

const target = document.getElementById("target");
const lettersContainer = document.getElementById("letters");
const status = document.getElementById("status");
const gameSection = document.getElementById("game");

function shuffle(arr){ return arr.sort(()=>Math.random()-0.5); }

function startGame(){
  totalWords = parseInt(document.getElementById("wordCount").value);
  if(isNaN(totalWords) || totalWords < 1) totalWords = 1;
  if(totalWords > WORDS.length) totalWords = WORDS.length;
  wordsQueue = shuffle([...WORDS]).slice(0, totalWords);
  guessedCount = 0;
  document.querySelector(".setup").style.display="none";
  gameSection.style.display="block";
  nextWord();
}

function nextWord(){
  if(wordsQueue.length === 0){
    status.textContent = "üéâ –ì—Ä—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ! –£—Å—ñ —Å–ª–æ–≤–∞ –≤—ñ–¥–≥–∞–¥–∞–Ω—ñ!";
    status.className = "status success";
    target.innerHTML="";
    lettersContainer.innerHTML="";
    document.getElementById("resetBtn").style.display="none";
    document.getElementById("shuffleBtn").style.display="none";
    document.getElementById("hintBtn").style.display="none";
    document.getElementById("checkBtn").textContent="üîÅ –ü–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É";
    document.getElementById("checkBtn").onclick = ()=>location.reload();
    return;
  }
  currentWord = wordsQueue.pop();
  renderLetters(currentWord);
}

function renderLetters(word){
  target.innerHTML="";
  lettersContainer.innerHTML="";
  status.textContent = `–°–ª–æ–≤–æ ${guessedCount+1} —ñ–∑ ${totalWords}`;
  const letters = shuffle([...word]);
  for(const ch of letters){
    const btn = document.createElement("button");
    btn.className="letter";
    btn.textContent = ch;
    btn.addEventListener("click", ()=>addLetter(ch, btn));
    btn.draggable = true;
    btn.addEventListener("dragstart", e=>{
      e.dataTransfer.setData("text/plain", ch);
    });
    lettersContainer.appendChild(btn);
  }
}

function addLetter(ch, btn){
  const div = document.createElement("div");
  div.className="letter";
  div.textContent = ch;
  div.addEventListener("click", ()=>div.remove());
  target.appendChild(div);
  btn.disabled = true;
  btn.style.opacity="0.5";
}

target.addEventListener("dragover", e=>e.preventDefault());
target.addEventListener("drop", e=>{
  e.preventDefault();
  const ch = e.dataTransfer.getData("text/plain");
  const btn = [...lettersContainer.children].find(b=>b.textContent===ch && !b.disabled);
  if(btn) addLetter(ch, btn);
});

function getAnswer(){
  return [...target.children].map(x=>x.textContent).join("");
}

function checkAnswer(){
  const ans = getAnswer();
  if(ans === currentWord){
    status.textContent = `‚úÖ –ú–æ–ª–æ–¥–µ—Ü—å! –¶–µ –ø—Ä–∞–≤–∏–ª—å–Ω–µ —Å–ª–æ–≤–æ "${currentWord}"`;
    status.className = "status success";
    guessedCount++;
    setTimeout(nextWord, 1200);
  } else {
    status.textContent = "‚ùå –ù—ñ, —Å–ø—Ä–æ–±—É–π —â–µ!";
    status.className = "status fail";
  }
}

function resetWord(){
  renderLetters(currentWord);
}

function showHint(){
  status.textContent = `üí° –ü—ñ–¥–∫–∞–∑–∫–∞: –ø–µ—Ä—à–∞ –ª—ñ—Ç–µ—Ä–∞ ‚Äî "${currentWord[0].toUpperCase()}"`;
  status.className = "status hint";
}

document.getElementById("startBtn").addEventListener("click", startGame);
document.getElementById("shuffleBtn").addEventListener("click", resetWord);
document.getElementById("hintBtn").addEventListener("click", showHint);
document.getElementById("checkBtn").addEventListener("click", checkAnswer);
document.getElementById("resetBtn").addEventListener("click", nextWord);
</script>
</body>
</html>
